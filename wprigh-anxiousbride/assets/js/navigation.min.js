"use strict";var KEYMAP={TAB:9};function initNavigation(){initNavToggleSubmenus(),initNavToggleSmall()}function initNavToggleSubmenus(){var e=document.querySelectorAll(".nav--toggle-sub");if(e.length)for(var t=0;t<e.length;t++)initEachNavToggleSubmenu(e[t])}function initEachNavToggleSubmenu(e){var t=e.querySelectorAll("ul.sub-menu, ul.wp-block-navigation__submenu-container");if(t.length)for(var n=getDropdownButton(),o=0;o<t.length;o++){var a,l=t[o].parentNode,r=t[o].parentNode.classList.contains("wp-block-navigation-item"),i=l.querySelector(".dropdown");i||r||((i=document.createElement("span")).classList.add("dropdown"),(a=document.createElement("i")).classList.add("dropdown-symbol"),i.appendChild(a),t[o].parentNode.insertBefore(i,t[o])),r?t[o].parentNode.querySelector(".wp-block-navigation-submenu__toggle").addEventListener("click",function(e){toggleSubMenu(e.currentTarget.parentNode)}):((a=n.cloneNode(!0)).innerHTML=i.innerHTML,i.parentNode.replaceChild(a,i),a.addEventListener("click",function(e){toggleSubMenu(e.currentTarget.parentNode)})),l.querySelector("a").addEventListener("focus",function(e){for(var t=e.target.parentNode.parentNode.querySelectorAll("li.menu-item--toggled-on"),n=0;n<t.length;n++)toggleSubMenu(t[n],!1)}),t[o].addEventListener("keydown",function(e){var t="ul.toggle-show > li > a, ul.toggle-show > li > button";KEYMAP.TAB===e.keyCode&&(e.shiftKey?isfirstFocusableElement(e.target,document.activeElement,t)&&toggleSubMenu(e.target.parentNode,!1):islastFocusableElement(e.target,document.activeElement,t)&&toggleSubMenu(e.target.parentNode,!1))}),t[o].parentNode.classList.add("menu-item--has-toggle")}}function initNavToggleSmall(){var e=document.querySelectorAll(".nav--toggle-small");if(e.length)for(var t=0;t<e.length;t++)initEachNavToggleSmall(e[t])}function initEachNavToggleSmall(t){var e=t.querySelector(".menu-toggle");e&&(e.setAttribute("aria-expanded","false"),e.addEventListener("click",function(e){t.classList.toggle("nav--toggled-on"),e.target.setAttribute("aria-expanded","false"===e.target.getAttribute("aria-expanded")?"true":"false")},!1))}function toggleSubMenu(e,t){var n=e.querySelector(".dropdown-toggle, .wp-block-navigation-submenu__toggle"),o=e.querySelector("ul"),a=e.classList.contains("menu-item--toggled-on");if(void 0!==t&&"boolean"==typeof t&&(a=!t),n.classList.contains("wp-block-navigation-submenu__toggle")||n.setAttribute("aria-expanded",(!a).toString()),a){e.classList.remove("menu-item--toggled-on"),o.classList.remove("toggle-show"),n.setAttribute("aria-label",wpRigScreenReaderText.expand);for(var l=e.querySelectorAll(".menu-item--toggled-on"),r=0;r<l.length;r++)toggleSubMenu(l[r],!1)}else{for(var i=e.parentNode.querySelectorAll("li.menu-item--toggled-on"),g=0;g<i.length;g++)toggleSubMenu(i[g],!1);e.classList.add("menu-item--toggled-on"),o.classList.add("toggle-show"),n.setAttribute("aria-label",wpRigScreenReaderText.collapse)}}function getDropdownButton(){var e=document.createElement("button");return e.classList.add("dropdown-toggle"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label",wpRigScreenReaderText.expand),e}function isfirstFocusableElement(e,t,n){e=e.querySelectorAll(n);return 0<e.length&&t===e[0]}function islastFocusableElement(e,t,n){e=e.querySelectorAll(n);return 0<e.length&&t===e[e.length-1]}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initNavigation):initNavigation();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmlnYXRpb24uanMiXSwibmFtZXMiOlsiS0VZTUFQIiwiVEFCIiwiaW5pdE5hdmlnYXRpb24iLCJpbml0TmF2VG9nZ2xlU3VibWVudXMiLCJpbml0TmF2VG9nZ2xlU21hbGwiLCJuYXZUT0dHTEUiLCJsZW5ndGgiLCJpIiwiaW5pdEVhY2hOYXZUb2dnbGVTdWJtZW51IiwibmF2IiwiU1VCTUVOVVMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZHJvcGRvd25CdXR0b24iLCJnZXREcm9wZG93bkJ1dHRvbiIsInBhcmVudE1lbnVJdGVtIiwicGFyZW50Tm9kZSIsInRoaXNEcm9wZG93bkJ1dHRvbiIsImlzTmF2aWdhdGlvbkJsb2NrIiwiZHJvcGRvd24iLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJkb2N1bWVudCIsImRyb3Bkb3duU3ltYm9sIiwiY3JlYXRlRWxlbWVudCIsImFkZCIsImFwcGVuZENoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnJlbnRUYXJnZXQiLCJ0b2dnbGVTdWJNZW51IiwiZSIsImNsb25lTm9kZSIsImlubmVySFRNTCIsInJlcGxhY2VDaGlsZCIsInBhcmVudE1lbnVJdGVtc1RvZ2dsZWQiLCJ0YXJnZXQiLCJqIiwiZm9jdXNTZWxlY3RvciIsImtleUNvZGUiLCJzaGlmdEtleSIsImlzZmlyc3RGb2N1c2FibGVFbGVtZW50IiwiaXNsYXN0Rm9jdXNhYmxlRWxlbWVudCIsImFjdGl2ZUVsZW1lbnQiLCJpbml0RWFjaE5hdlRvZ2dsZVNtYWxsIiwibWVudVRPR0dMRSIsInNldEF0dHJpYnV0ZSIsInRvZ2dsZSIsImdldEF0dHJpYnV0ZSIsImZvcmNlVG9nZ2xlIiwidG9nZ2xlQnV0dG9uIiwic3ViTWVudSIsInBhcmVudE1lbnVJdGVtVG9nZ2xlZCIsInVuZGVmaW5lZCIsInRvU3RyaW5nIiwic3ViTWVudUl0ZW1zVG9nZ2xlZCIsInJlbW92ZSIsIndwUmlnU2NyZWVuUmVhZGVyVGV4dCIsImV4cGFuZCIsImNvbGxhcHNlIiwiY29udGFpbmVyIiwiZWxlbWVudCIsImZvY3VzYWJsZUVsZW1lbnRzIiwicmVhZHlTdGF0ZSJdLCJtYXBwaW5ncyI6ImFBTUEsSUFBQUEsT0FBQSxDQUdDQyxJQUFLLENBRE4sRUFZQSxTQUFBQyxpQkFDQUMsc0JBQVNELEVBRVJFLG1CQURBRCxDQUVELENBS0EsU0FBQUEsd0JBQ0EsSUFBQUUsRUFBU0YsU0FBQUEsaUJBQXdCLGtCQUFBLEVBSWhDLEdBREFFLEVBQUFDLE9BS0EsSUFBTSxJQUFJQyxFQUFJLEVBQUdBLEVBQUlGLEVBQVVDLE9BQVFDLENBQUMsR0FDdkNDLHlCQUF3QkgsRUFBYUUsRUFBSyxDQUU1QyxDQU9BLFNBQVNDLHlCQUEwQkMsR0FFbEMsSUFBTUMsRUFBV0QsRUFBSUUsaUJBQWtCLHdEQUEwRCxFQUdqRyxHQUFPRCxFQUFTSixPQU9oQixJQUZBLElBQU1NLEVBQWlCQyxrQkFBaUIsRUFHakNDLEVBQUFBLEVBQUFBLEVBQWNKLEVBQUdBLE9BQWNLLENBQUFBLEdBQUFBLENBQXJDLElBc0JDQyxFQXJCS0MsRUFBaUJQLEVBQUdBLEdBQWFLLFdBQ25DRyxFQUFXSixFQUFlSyxHQUFBQSxXQUFlQyxVQUFhQyxTQUFBLDBCQUFBLEVBQXRESCxFQUFXSixFQUFlSyxjQUFlLFdBQVcsRUFJdkRELEdBQUFELEtBQ0FDLEVBQ1FJLFNBQUNGLGNBQWUsTUFBWSxHQUU5QkcsVUFBQUEsSUFBaUJELFVBQVNFLEdBRWhDTixFQUFvQkksU0FBRUMsY0FBZ0IsR0FBQSxHQUR2QkgsVUFBVUssSUFBSyxpQkFBaUIsRUFDL0NQLEVBRUFRLFlBQUFILENBQUEsRUFDQWIsRUFBVUgsR0FBSVEsV0FBV1ksYUFBY1QsRUFBVVIsRUFBVUgsRUFBRyxHQUl4RFUsRUFjTlAsRUFBVUgsR0FBSVEsV0FBV0ksY0FBZSxzQ0FBc0MsRUFDNUVTLGlCQUdnQixRQUFDQyxTQUFBQSxHQUFqQkMsY0FBZUMsRUFBRUYsY0FBY2QsVUFBVSxDQUk1QyxDQUFBLElBbkJDQyxF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YUFBQVcsc0JBQUFFLFFBQUEsQ0FDQSxDQUNBLENBQUEsU0FBUzlDLG9CQVFULElBQUFELEVBQUFVLFNBQUFFLGNBQUEsUUFBQSxFQUlBLE9BSEFaLEVBQUFRLFVBQUFLLElBQUEsaUJBQUEsRUFDQWIsRUFBQWtDLGFBQUEsZ0JBQUEsT0FBQSxFQUNBbEMsRUFBQWtDLGFBQUEsYUFBQVcsc0JBQUFDLE1BQUEsRUFDQTlDLENBQ0EsQ0FHQSxTQUFTNkIsd0JBQXlCbUIsRUFBV0MsRUFBU3ZCLEdBUXREd0IsRUFBQUYsRUFBQWpELGlCQUFBMkIsQ0FBQSxFQUNBLE9BQUEsRUFBQXdCLEVBQUF4RCxRQUNBdUQsSUFBQUMsRUFBQSxFQUdBLENBR0EsU0FBU3BCLHVCQUF3QmtCLEVBQVdDLEVBQVN2QixHQUM5Q3dCLEVBQW9CRixFQUFVakQsaUJBQWtCMkIsQ0FBYSxFQUNuRSxPQUFLLEVBQUl3QixFQUFrQnhELFFBQ25CdUQsSUFBWUMsRUFBbUJBLEVBQWtCeEQsT0FBUyxFQUduRSxDQW5RQyxZQUFBZ0IsU0FBQXlDLFdBSUF6QyxTQURBTSxpQkFBQSxtQkFBQTFCLGNBQUEsRUFJQUEsZUFEQSIsImZpbGUiOiJuYXZpZ2F0aW9uLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCB3cFJpZ1NjcmVlblJlYWRlclRleHQgKi9cbi8qKlxuICogRmlsZSBuYXZpZ2F0aW9uLmpzLlxuICpcbiAqIEhhbmRsZXMgdG9nZ2xpbmcgdGhlIG5hdmlnYXRpb24gbWVudSBmb3Igc21hbGwgc2NyZWVucyBhbmQgZW5hYmxlcyBUQUIga2V5XG4gKiBuYXZpZ2F0aW9uIHN1cHBvcnQgZm9yIGRyb3Bkb3duIG1lbnVzLlxuICovXG5cbmNvbnN0IEtFWU1BUCA9IHtcblx0VEFCOiA5LFxufTtcblxuaWYgKCAnbG9hZGluZycgPT09IGRvY3VtZW50LnJlYWR5U3RhdGUgKSB7XG5cdC8vIFRoZSBET00gaGFzIG5vdCB5ZXQgYmVlbiBsb2FkZWQuXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdET01Db250ZW50TG9hZGVkJywgaW5pdE5hdmlnYXRpb24gKTtcbn0gZWxzZSB7XG5cdC8vIFRoZSBET00gaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQuXG5cdGluaXROYXZpZ2F0aW9uKCk7XG59XG5cbi8vIEluaXRpYXRlIHRoZSBtZW51cyB3aGVuIHRoZSBET00gbG9hZHMuXG5mdW5jdGlvbiBpbml0TmF2aWdhdGlvbigpIHtcblx0aW5pdE5hdlRvZ2dsZVN1Ym1lbnVzKCk7XG5cdGluaXROYXZUb2dnbGVTbWFsbCgpO1xufVxuXG4vKipcbiAqIEluaXRpYXRlIHRoZSBzY3JpcHQgdG8gcHJvY2VzcyBhbGxcbiAqIG5hdmlnYXRpb24gbWVudXMgd2l0aCBzdWJtZW51IHRvZ2dsZSBlbmFibGVkLlxuICovXG5mdW5jdGlvbiBpbml0TmF2VG9nZ2xlU3VibWVudXMoKSB7XG5cdGNvbnN0IG5hdlRPR0dMRSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICcubmF2LS10b2dnbGUtc3ViJyApO1xuXG5cdC8vIE5vIHBvaW50IGlmIG5vIG5hdnMuXG5cdGlmICggISBuYXZUT0dHTEUubGVuZ3RoICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGZvciAoIGxldCBpID0gMDsgaSA8IG5hdlRPR0dMRS5sZW5ndGg7IGkrKyApIHtcblx0XHRpbml0RWFjaE5hdlRvZ2dsZVN1Ym1lbnUoIG5hdlRPR0dMRVsgaSBdICk7XG5cdH1cbn1cblxuLyoqXG4gKiBJbml0aWF0ZSB0aGUgc2NyaXB0IHRvIHByb2Nlc3Mgc3VibWVudVxuICogbmF2aWdhdGlvbiB0b2dnbGUgZm9yIGEgc3BlY2lmaWMgbmF2aWdhdGlvbiBtZW51LlxuICogQHBhcmFtIHtPYmplY3R9IG5hdiBOYXZpZ2F0aW9uIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGluaXRFYWNoTmF2VG9nZ2xlU3VibWVudSggbmF2ICkge1xuXHQvLyBHZXQgdGhlIHN1Ym1lbnVzLlxuXHRjb25zdCBTVUJNRU5VUyA9IG5hdi5xdWVyeVNlbGVjdG9yQWxsKCAndWwuc3ViLW1lbnUsIHVsLndwLWJsb2NrLW5hdmlnYXRpb25fX3N1Ym1lbnUtY29udGFpbmVyJyApO1xuXG5cdC8vIE5vIHBvaW50IGlmIG5vIHN1Ym1lbnVzLlxuXHRpZiAoICEgU1VCTUVOVVMubGVuZ3RoICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIENyZWF0ZSB0aGUgZHJvcGRvd24gYnV0dG9uLlxuXHRjb25zdCBkcm9wZG93bkJ1dHRvbiA9IGdldERyb3Bkb3duQnV0dG9uKCk7XG5cblx0Zm9yICggbGV0IGkgPSAwOyBpIDwgU1VCTUVOVVMubGVuZ3RoOyBpKysgKSB7XG5cdFx0Y29uc3QgcGFyZW50TWVudUl0ZW0gPSBTVUJNRU5VU1sgaSBdLnBhcmVudE5vZGU7XG5cdFx0Y29uc3QgaXNOYXZpZ2F0aW9uQmxvY2sgPSBTVUJNRU5VU1sgaSBdLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCAnd3AtYmxvY2stbmF2aWdhdGlvbi1pdGVtJyApO1xuXHRcdGxldCBkcm9wZG93biA9IHBhcmVudE1lbnVJdGVtLnF1ZXJ5U2VsZWN0b3IoICcuZHJvcGRvd24nICk7XG5cblx0XHQvLyBJZiBubyBkcm9wZG93biwgY3JlYXRlIG9uZS5cblx0XHRpZiAoICEgZHJvcGRvd24gJiYgISBpc05hdmlnYXRpb25CbG9jayApIHtcblx0XHRcdC8vIENyZWF0ZSBkcm9wZG93bi5cblx0XHRcdGRyb3Bkb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3NwYW4nICk7XG5cdFx0XHRkcm9wZG93bi5jbGFzc0xpc3QuYWRkKCAnZHJvcGRvd24nICk7XG5cblx0XHRcdGNvbnN0IGRyb3Bkb3duU3ltYm9sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2knICk7XG5cdFx0XHRkcm9wZG93blN5bWJvbC5jbGFzc0xpc3QuYWRkKCAnZHJvcGRvd24tc3ltYm9sJyApO1xuXHRcdFx0ZHJvcGRvd24uYXBwZW5kQ2hpbGQoIGRyb3Bkb3duU3ltYm9sICk7XG5cblx0XHRcdC8vIEFkZCBiZWZvcmUgc3VibWVudS5cblx0XHRcdFNVQk1FTlVTWyBpIF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGRyb3Bkb3duLCBTVUJNRU5VU1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkcm9wZG93biB0byBidXR0b24uXG5cdFx0aWYgKCAhIGlzTmF2aWdhdGlvbkJsb2NrICkge1xuXHRcdFx0Y29uc3QgdGhpc0Ryb3Bkb3duQnV0dG9uID0gZHJvcGRvd25CdXR0b24uY2xvbmVOb2RlKCB0cnVlICk7XG5cblx0XHRcdC8vIENvcHkgY29udGVudHMgb2YgZHJvcGRvd24gaW50byBidXR0b24uXG5cdFx0XHR0aGlzRHJvcGRvd25CdXR0b24uaW5uZXJIVE1MID0gZHJvcGRvd24uaW5uZXJIVE1MO1xuXG5cdFx0XHQvLyBSZXBsYWNlIGRyb3Bkb3duIHdpdGggdG9nZ2xlIGJ1dHRvbi5cblx0XHRcdGRyb3Bkb3duLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKCB0aGlzRHJvcGRvd25CdXR0b24sIGRyb3Bkb3duICk7XG5cblx0XHRcdC8vIFRvZ2dsZSB0aGUgc3VibWVudSB3aGVuIHdlIGNsaWNrIHRoZSBkcm9wZG93biBidXR0b24uXG5cdFx0XHR0aGlzRHJvcGRvd25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCBlICkgPT4ge1xuXHRcdFx0XHR0b2dnbGVTdWJNZW51KCBlLmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZSApO1xuXHRcdFx0fSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRTVUJNRU5VU1sgaSBdLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvciggJy53cC1ibG9jay1uYXZpZ2F0aW9uLXN1Ym1lbnVfX3RvZ2dsZScgKVxuXHRcdFx0XHQuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCBlICkgPT4ge1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCBbIGUuY3VycmVudFRhcmdldCwgZS5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUgXSApO1xuXG5cdFx0XHRcdFx0dG9nZ2xlU3ViTWVudSggZS5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUgKTtcblx0XHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdC8vIENsZWFuIHVwIHRoZSB0b2dnbGUgaWYgYSBtb3VzZSB0YWtlcyBvdmVyIGZyb20ga2V5Ym9hcmQuXG5cdFx0LypwYXJlbnRNZW51SXRlbS5hZGRFdmVudExpc3RlbmVyKCAnbW91c2VsZWF2ZScsICggZSApID0+IHtcblx0XHRcdHRvZ2dsZVN1Yk1lbnUoIGUudGFyZ2V0LCBmYWxzZSApO1xuXHRcdH0gKTsqL1xuXG5cdFx0Ly8gV2hlbiB3ZSBmb2N1cyBvbiBhIG1lbnUgbGluaywgbWFrZSBzdXJlIGFsbCBzaWJsaW5ncyBhcmUgY2xvc2VkLlxuXHRcdHBhcmVudE1lbnVJdGVtLnF1ZXJ5U2VsZWN0b3IoICdhJyApLmFkZEV2ZW50TGlzdGVuZXIoICdmb2N1cycsICggZSApID0+IHtcblx0XHRcdGNvbnN0IHBhcmVudE1lbnVJdGVtc1RvZ2dsZWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCggJ2xpLm1lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcblx0XHRcdGZvciAoIGxldCBqID0gMDsgaiA8IHBhcmVudE1lbnVJdGVtc1RvZ2dsZWQubGVuZ3RoOyBqKysgKSB7XG5cdFx0XHRcdHRvZ2dsZVN1Yk1lbnUoIHBhcmVudE1lbnVJdGVtc1RvZ2dsZWRbIGogXSwgZmFsc2UgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHQvLyBIYW5kbGUga2V5Ym9hcmQgYWNjZXNzaWJpbGl0eSBmb3IgdHJhdmVyc2luZyBtZW51LlxuXHRcdFNVQk1FTlVTWyBpIF0uYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCAoIGUgKSA9PiB7XG5cdFx0XHQvLyBUaGVzZSBzcGVjaWZpYyBzZWxlY3RvcnMgaGVscCB1cyBvbmx5IHNlbGVjdCBpdGVtcyB0aGF0IGFyZSB2aXNpYmxlLlxuXHRcdFx0Y29uc3QgZm9jdXNTZWxlY3RvciA9ICd1bC50b2dnbGUtc2hvdyA+IGxpID4gYSwgdWwudG9nZ2xlLXNob3cgPiBsaSA+IGJ1dHRvbic7XG5cblx0XHRcdGlmICggS0VZTUFQLlRBQiA9PT0gZS5rZXlDb2RlICkge1xuXHRcdFx0XHRpZiAoIGUuc2hpZnRLZXkgKSB7XG5cdFx0XHRcdFx0Ly8gTWVhbnMgd2UncmUgdGFiYmluZyBvdXQgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgc3VibWVudS5cblx0XHRcdFx0XHRpZiAoIGlzZmlyc3RGb2N1c2FibGVFbGVtZW50KCBlLnRhcmdldCwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgZm9jdXNTZWxlY3RvciApICkge1xuXHRcdFx0XHRcdFx0dG9nZ2xlU3ViTWVudSggZS50YXJnZXQucGFyZW50Tm9kZSwgZmFsc2UgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gTWVhbnMgd2UncmUgdGFiYmluZyBvdXQgb2YgdGhlIGVuZCBvZiB0aGUgc3VibWVudS5cblx0XHRcdFx0fSBlbHNlIGlmICggaXNsYXN0Rm9jdXNhYmxlRWxlbWVudCggZS50YXJnZXQsIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsIGZvY3VzU2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHR0b2dnbGVTdWJNZW51KCBlLnRhcmdldC5wYXJlbnROb2RlLCBmYWxzZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0U1VCTUVOVVNbIGkgXS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoICdtZW51LWl0ZW0tLWhhcy10b2dnbGUnICk7XG5cdH1cbn1cblxuLyoqXG4gKiBJbml0aWF0ZSB0aGUgc2NyaXB0IHRvIHByb2Nlc3MgYWxsXG4gKiBuYXZpZ2F0aW9uIG1lbnVzIHdpdGggc21hbGwgdG9nZ2xlIGVuYWJsZWQuXG4gKi9cbmZ1bmN0aW9uIGluaXROYXZUb2dnbGVTbWFsbCgpIHtcblx0Y29uc3QgbmF2VE9HR0xFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy5uYXYtLXRvZ2dsZS1zbWFsbCcgKTtcblxuXHQvLyBObyBwb2ludCBpZiBubyBuYXZzLlxuXHRpZiAoICEgbmF2VE9HR0xFLmxlbmd0aCApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBuYXZUT0dHTEUubGVuZ3RoOyBpKysgKSB7XG5cdFx0aW5pdEVhY2hOYXZUb2dnbGVTbWFsbCggbmF2VE9HR0xFWyBpIF0gKTtcblx0fVxufVxuXG4vKipcbiAqIEluaXRpYXRlIHRoZSBzY3JpcHQgdG8gcHJvY2VzcyBzbWFsbFxuICogbmF2aWdhdGlvbiB0b2dnbGUgZm9yIGEgc3BlY2lmaWMgbmF2aWdhdGlvbiBtZW51LlxuICogQHBhcmFtIHtPYmplY3R9IG5hdiBOYXZpZ2F0aW9uIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGluaXRFYWNoTmF2VG9nZ2xlU21hbGwoIG5hdiApIHtcblx0Y29uc3QgbWVudVRPR0dMRSA9IG5hdi5xdWVyeVNlbGVjdG9yKCAnLm1lbnUtdG9nZ2xlJyApO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBNRU5VVE9HR0xFIGlzIG1pc3NpbmcuXG5cdGlmICggISBtZW51VE9HR0xFICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIEFkZCBhbiBpbml0aWFsIHZhbHVlcyBmb3IgdGhlIGF0dHJpYnV0ZS5cblx0bWVudVRPR0dMRS5zZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyApO1xuXG5cdG1lbnVUT0dHTEUuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCBlICkgPT4ge1xuXHRcdG5hdi5jbGFzc0xpc3QudG9nZ2xlKCAnbmF2LS10b2dnbGVkLW9uJyApO1xuXHRcdGUudGFyZ2V0LnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnID09PSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJyApID8gJ3RydWUnIDogJ2ZhbHNlJyApO1xuXHR9LCBmYWxzZSApO1xufVxuXG4vKipcbiAqIFRvZ2dsZSBzdWJtZW51cyBvcGVuIGFuZCBjbG9zZWQsIGFuZCB0ZWxsIHNjcmVlbiByZWFkZXJzIHdoYXQncyBnb2luZyBvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJlbnRNZW51SXRlbSBQYXJlbnQgbWVudSBlbGVtZW50LlxuICogQHBhcmFtIHtib29sZWFufSBmb3JjZVRvZ2dsZSBGb3JjZSB0aGUgbWVudSB0b2dnbGUuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiB0b2dnbGVTdWJNZW51KCBwYXJlbnRNZW51SXRlbSwgZm9yY2VUb2dnbGUgKSB7XG5cdGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IHBhcmVudE1lbnVJdGVtLnF1ZXJ5U2VsZWN0b3IoICcuZHJvcGRvd24tdG9nZ2xlLCAud3AtYmxvY2stbmF2aWdhdGlvbi1zdWJtZW51X190b2dnbGUnICksXG5cdFx0c3ViTWVudSA9IHBhcmVudE1lbnVJdGVtLnF1ZXJ5U2VsZWN0b3IoICd1bCcgKTtcblx0bGV0IHBhcmVudE1lbnVJdGVtVG9nZ2xlZCA9IHBhcmVudE1lbnVJdGVtLmNsYXNzTGlzdC5jb250YWlucyggJ21lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcblx0Ly8gV2lsbCBiZSB0cnVlIGlmIHdlIHdhbnQgdG8gZm9yY2UgdGhlIHRvZ2dsZSBvbiwgZmFsc2UgaWYgZm9yY2UgdG9nZ2xlIGNsb3NlLlxuXHRpZiAoIHVuZGVmaW5lZCAhPT0gZm9yY2VUb2dnbGUgJiYgJ2Jvb2xlYW4nID09PSAoIHR5cGVvZiBmb3JjZVRvZ2dsZSApICkge1xuXHRcdHBhcmVudE1lbnVJdGVtVG9nZ2xlZCA9ICEgZm9yY2VUb2dnbGU7XG5cdH1cblxuXHQvLyBUb2dnbGUgYXJpYS1leHBhbmRlZCBzdGF0dXMuXG5cdGlmICggISB0b2dnbGVCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCAnd3AtYmxvY2stbmF2aWdhdGlvbi1zdWJtZW51X190b2dnbGUnICkgKSB7XG5cdFx0dG9nZ2xlQnV0dG9uLnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCAoICEgcGFyZW50TWVudUl0ZW1Ub2dnbGVkICkudG9TdHJpbmcoKSApO1xuXHR9XG5cblx0Lypcblx0ICogU3RlcHMgdG8gaGFuZGxlIGR1cmluZyB0b2dnbGU6XG5cdCAqIC0gTGV0IHRoZSBwYXJlbnQgbWVudSBpdGVtIGtub3cgd2UncmUgdG9nZ2xlZCBvbi9vZmYuXG5cdCAqIC0gVG9nZ2xlIHRoZSBBUklBIGxhYmVsIHRvIGxldCBzY3JlZW4gcmVhZGVycyBrbm93IHdpbGwgZXhwYW5kIG9yIGNvbGxhcHNlLlxuXHQgKi9cblx0aWYgKCBwYXJlbnRNZW51SXRlbVRvZ2dsZWQgKSB7XG5cdFx0Ly8gVG9nZ2xlIFwib2ZmXCIgdGhlIHN1Ym1lbnUuXG5cdFx0cGFyZW50TWVudUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSggJ21lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcblx0XHRzdWJNZW51LmNsYXNzTGlzdC5yZW1vdmUoICd0b2dnbGUtc2hvdycgKTtcblx0XHR0b2dnbGVCdXR0b24uc2V0QXR0cmlidXRlKCAnYXJpYS1sYWJlbCcsIHdwUmlnU2NyZWVuUmVhZGVyVGV4dC5leHBhbmQgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSBhbGwgY2hpbGRyZW4gYXJlIGNsb3NlZC5cblx0XHRjb25zdCBzdWJNZW51SXRlbXNUb2dnbGVkID0gcGFyZW50TWVudUl0ZW0ucXVlcnlTZWxlY3RvckFsbCggJy5tZW51LWl0ZW0tLXRvZ2dsZWQtb24nICk7XG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgc3ViTWVudUl0ZW1zVG9nZ2xlZC5sZW5ndGg7IGkrKyApIHtcblx0XHRcdHRvZ2dsZVN1Yk1lbnUoIHN1Yk1lbnVJdGVtc1RvZ2dsZWRbIGkgXSwgZmFsc2UgKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gTWFrZSBzdXJlIHNpYmxpbmdzIGFyZSBjbG9zZWQuXG5cdFx0Y29uc3QgcGFyZW50TWVudUl0ZW1zVG9nZ2xlZCA9IHBhcmVudE1lbnVJdGVtLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCggJ2xpLm1lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBwYXJlbnRNZW51SXRlbXNUb2dnbGVkLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0dG9nZ2xlU3ViTWVudSggcGFyZW50TWVudUl0ZW1zVG9nZ2xlZFsgaSBdLCBmYWxzZSApO1xuXHRcdH1cblxuXHRcdC8vIFRvZ2dsZSBcIm9uXCIgdGhlIHN1Ym1lbnUuXG5cdFx0cGFyZW50TWVudUl0ZW0uY2xhc3NMaXN0LmFkZCggJ21lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcblx0XHRzdWJNZW51LmNsYXNzTGlzdC5hZGQoICd0b2dnbGUtc2hvdycgKTtcblx0XHR0b2dnbGVCdXR0b24uc2V0QXR0cmlidXRlKCAnYXJpYS1sYWJlbCcsIHdwUmlnU2NyZWVuUmVhZGVyVGV4dC5jb2xsYXBzZSApO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZHJvcGRvd24gYnV0dG9uXG4gKiBlbGVtZW50IG5lZWRlZCBmb3IgdGhlIG1lbnUuXG4gKiBAcmV0dXJuIHtPYmplY3R9IGRyb3AtZG93biBidXR0b24gZWxlbWVudFxuICovXG5mdW5jdGlvbiBnZXREcm9wZG93bkJ1dHRvbigpIHtcblx0Y29uc3QgZHJvcGRvd25CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYnV0dG9uJyApO1xuXHRkcm9wZG93bkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCAnZHJvcGRvd24tdG9nZ2xlJyApO1xuXHRkcm9wZG93bkJ1dHRvbi5zZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyApO1xuXHRkcm9wZG93bkJ1dHRvbi5zZXRBdHRyaWJ1dGUoICdhcmlhLWxhYmVsJywgd3BSaWdTY3JlZW5SZWFkZXJUZXh0LmV4cGFuZCApO1xuXHRyZXR1cm4gZHJvcGRvd25CdXR0b247XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGVsZW1lbnQgaXMgdGhlXG4gKiBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCBpbiB0aGUgY29udGFpbmVyLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRhaW5lclxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb2N1c1NlbGVjdG9yXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCB0aGUgZWxlbWVudCBpcyB0aGUgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgaW4gdGhlIGNvbnRhaW5lclxuICovXG5mdW5jdGlvbiBpc2ZpcnN0Rm9jdXNhYmxlRWxlbWVudCggY29udGFpbmVyLCBlbGVtZW50LCBmb2N1c1NlbGVjdG9yICkge1xuXHRjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCBmb2N1c1NlbGVjdG9yICk7XG5cdGlmICggMCA8IGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCApIHtcblx0XHRyZXR1cm4gZWxlbWVudCA9PT0gZm9jdXNhYmxlRWxlbWVudHNbIDAgXTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGVsZW1lbnQgaXMgdGhlXG4gKiBsYXN0IGZvY3VzYWJsZSBlbGVtZW50IGluIHRoZSBjb250YWluZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGFpbmVyXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGZvY3VzU2VsZWN0b3JcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IHRoZSBlbGVtZW50IGlzIHRoZSBsYXN0IGZvY3VzYWJsZSBlbGVtZW50IGluIHRoZSBjb250YWluZXJcbiAqL1xuZnVuY3Rpb24gaXNsYXN0Rm9jdXNhYmxlRWxlbWVudCggY29udGFpbmVyLCBlbGVtZW50LCBmb2N1c1NlbGVjdG9yICkge1xuXHRjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCBmb2N1c1NlbGVjdG9yICk7XG5cdGlmICggMCA8IGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCApIHtcblx0XHRyZXR1cm4gZWxlbWVudCA9PT0gZm9jdXNhYmxlRWxlbWVudHNbIGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDEgXTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG4iXX0=